{"ast":null,"code":"import _objectSpread from \"C:\\\\Users\\\\user\\\\WebstormProjects\\\\jsProjects\\\\new-to-do\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";\nvar _jsxFileName = \"C:\\\\Users\\\\user\\\\WebstormProjects\\\\jsProjects\\\\new-to-do\\\\src\\\\components\\\\app\\\\App.tsx\";\nimport * as React from 'react';\nimport { Component } from 'react';\nimport { AppHeader } from '../app-header/app-header';\nimport { ItemAddForm } from '../item-add-form/item-add-form';\nimport { ItemStatusFilter } from '../item-status-filter/item-status-filter';\nimport { SearchPanel } from '../search-panel/search-panel';\nimport { ToDoList } from '../todo-list/todo-list';\nexport class App extends Component {\n  constructor(...args) {\n    super(...args);\n    this.maxId = 100;\n\n    this.createTodoItem = label => ({\n      label,\n      important: false,\n      done: false,\n      id: this.maxId++\n    });\n\n    this.state = {\n      toDoData: [this.createTodoItem('Setup React project ToDo List'), this.createTodoItem('Rewrite ToDo list with typescript'), this.createTodoItem('Create tests with Jest and Nzim')],\n      term: '',\n      filter: 'active'\n    };\n\n    this.onAddItem = text => {\n      const newItem = this.createTodoItem(text);\n      this.setState(({\n        toDoData\n      }) => {\n        return {\n          toDoData: [newItem, ...toDoData]\n        };\n      });\n    };\n\n    this.onToggleImportant = id => {\n      this.setState(({\n        toDoData\n      }) => {\n        return {\n          toDoData: this.toggleProperty(toDoData, id, 'important')\n        };\n      });\n    };\n\n    this.deleteItem = id => {\n      this.setState(({\n        toDoData\n      }) => {\n        return {\n          toDoData: toDoData.filter(element => element.id !== id)\n        };\n      });\n    };\n\n    this.onToggleDone = id => {\n      this.setState(({\n        toDoData\n      }) => {\n        return {\n          toDoData: this.toggleProperty(toDoData, id, 'done')\n        };\n      });\n    };\n\n    this.onSearchChange = term => {\n      this.setState({\n        term\n      });\n    };\n\n    this.onFilterChange = filter => {\n      this.setState({\n        filter\n      });\n    };\n  }\n\n  filter(items, filter) {\n    switch (filter) {\n      case 'active':\n        return items.filter(item => !item.done);\n\n      case 'done':\n        return items.filter(item => item.done);\n\n      case 'all':\n      default:\n        return items;\n    }\n  }\n\n  search(items, term) {\n    return items.filter(item => {\n      if (term.length === 0) {\n        return items;\n      }\n\n      return item.label.toLowerCase().indexOf(term.toLowerCase()) > -1;\n    });\n  }\n\n  toggleProperty(arr, id, propName) {\n    return arr.map(element => {\n      if (element.id === id) {\n        return _objectSpread({}, element, {\n          [propName]: !element[propName]\n        });\n      }\n\n      return _objectSpread({}, element);\n    });\n  }\n\n  render() {\n    const _this$state = this.state,\n          toDoData = _this$state.toDoData,\n          filter = _this$state.filter,\n          term = _this$state.term;\n    const visibleItems = this.filter(this.search(toDoData, term), filter);\n    const doneCount = toDoData.filter(element => element.done).length;\n    const toDoCount = toDoData.length - doneCount;\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122\n      },\n      __self: this\n    }, React.createElement(AppHeader, {\n      toDo: toDoCount,\n      done: doneCount,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123\n      },\n      __self: this\n    }), React.createElement(SearchPanel, {\n      term: term,\n      onSearchChange: this.onSearchChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124\n      },\n      __self: this\n    }), React.createElement(ItemStatusFilter, {\n      filter: filter,\n      onFilterChange: this.onFilterChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128\n      },\n      __self: this\n    }), React.createElement(ItemAddForm, {\n      onAddItem: this.onAddItem,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132\n      },\n      __self: this\n    }), React.createElement(ToDoList, {\n      todos: visibleItems,\n      onDeleted: this.deleteItem,\n      onToggleImportant: this.onToggleImportant,\n      onToggleDone: this.onToggleDone,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133\n      },\n      __self: this\n    }));\n  }\n\n}","map":{"version":3,"sources":["C:/Users/user/WebstormProjects/jsProjects/new-to-do/src/components/app/App.tsx"],"names":["React","Component","AppHeader","ItemAddForm","ItemStatusFilter","SearchPanel","ToDoList","App","maxId","createTodoItem","label","important","done","id","state","toDoData","term","filter","onAddItem","text","newItem","setState","onToggleImportant","toggleProperty","deleteItem","element","onToggleDone","onSearchChange","onFilterChange","items","item","search","length","toLowerCase","indexOf","arr","propName","map","render","visibleItems","doneCount","toDoCount"],"mappings":"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","sourcesContent":["import * as React from 'react';\r\nimport { Component } from 'react';\r\nimport { AppHeader } from '../app-header/app-header'\r\nimport { ItemAddForm } from '../item-add-form/item-add-form';\r\nimport { ItemStatusFilter } from '../item-status-filter/item-status-filter';\r\nimport { SearchPanel } from '../search-panel/search-panel';\r\nimport { ToDoList } from '../todo-list/todo-list';\r\nimport { IState, IToDoItem } from './app-types';\r\nexport class App extends Component<Readonly<{}>, IState> {\r\n\r\n    maxId: number = 100;\r\n\r\n    createTodoItem = (label: string): IToDoItem => ({\r\n        label,\r\n        important: false,\r\n        done: false,\r\n        id: this.maxId++\r\n    });\r\n\r\n    state: IState = {\r\n        toDoData: [\r\n            this.createTodoItem('Setup React project ToDo List'),\r\n            this.createTodoItem('Rewrite ToDo list with typescript'),\r\n            this.createTodoItem('Create tests with Jest and Nzim'),\r\n        ],\r\n        term: '',\r\n        filter: 'active',\r\n    };\r\n\r\n    onAddItem = (text: string): void => {\r\n\r\n        const newItem = this.createTodoItem(text);\r\n\r\n        this.setState(({ toDoData }) => {\r\n            return {\r\n                toDoData: [newItem, ...toDoData]\r\n            }\r\n        });\r\n    };\r\n\r\n    onToggleImportant = (id: number): void => {\r\n\r\n        this.setState( ({ toDoData }) => {\r\n            return {\r\n                toDoData: this.toggleProperty( toDoData, id, 'important')\r\n            }\r\n        })\r\n    };\r\n\r\n    filter(items : IToDoItem[], filter: string) : IToDoItem[] {\r\n        switch (filter) {\r\n            case 'active':\r\n                return items.filter((item: IToDoItem) => !item.done);\r\n\r\n            case 'done':\r\n                return items.filter((item: IToDoItem) => item.done);\r\n\r\n            case 'all':\r\n            default:\r\n                return items;\r\n        }\r\n    }\r\n\r\n    search(items: IToDoItem[], term: string): IToDoItem[] {\r\n       return items.filter((item: IToDoItem) => {\r\n           if (term.length === 0) {\r\n               return items;\r\n           }\r\n\r\n           return item.label.toLowerCase().indexOf(term.toLowerCase()) > -1;\r\n          }\r\n       )\r\n    }\r\n\r\n    deleteItem = ( id : number ) : void => {\r\n        this.setState(( { toDoData } ) => {\r\n            return { toDoData: toDoData.filter(( element:  IToDoItem ) => element.id !== id) };\r\n        });\r\n    };\r\n\r\n    toggleProperty(arr: IToDoItem[], id: number, propName: string): IToDoItem[] {\r\n\r\n        return arr.map(element => {\r\n\r\n            if (element.id === id) {\r\n                return {\r\n                    ...element,\r\n                    [propName]: !element[propName],\r\n                };\r\n            }\r\n\r\n            return { ...element };\r\n        });\r\n    }\r\n\r\n    onToggleDone = (id: number): void => {\r\n        this.setState(({ toDoData }) => {\r\n            return {\r\n                toDoData: this.toggleProperty(toDoData, id, 'done')\r\n            }\r\n        })\r\n    };\r\n\r\n    onSearchChange = (term: string): void => {\r\n        this.setState({ term });\r\n    };\r\n\r\n    onFilterChange = (filter: string): void => {\r\n        this.setState({ filter })\r\n    };\r\n\r\n    render(): JSX.Element {\r\n        const { toDoData, filter, term } = this.state;\r\n\r\n        const visibleItems: IToDoItem[] = this.filter( this.search(toDoData, term), filter);\r\n\r\n        const doneCount = toDoData.filter(element => element.done).length;\r\n\r\n        const toDoCount: number = toDoData.length - doneCount;\r\n\r\n        return(\r\n            <div>\r\n                <AppHeader toDo={toDoCount} done={doneCount}/>\r\n                <SearchPanel\r\n                    term={term}\r\n                    onSearchChange={this.onSearchChange}\r\n                />\r\n                <ItemStatusFilter\r\n                    filter={filter}\r\n                    onFilterChange={this.onFilterChange}\r\n                />\r\n                <ItemAddForm onAddItem={this.onAddItem}/>\r\n                <ToDoList\r\n                    todos={visibleItems}\r\n                    onDeleted={this.deleteItem}\r\n                    onToggleImportant={this.onToggleImportant}\r\n                    onToggleDone={this.onToggleDone}\r\n                />\r\n            </div>\r\n        )\r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}